{"version":3,"file":"background.js","mappings":";;;;;;;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://bionic-reader-extension/./src/background.ts"],"sourcesContent":["const DEBUG = true;\nconst DEFAULT_LOG_PREFIX = \"[Bionic Reader Extension: BG]\";\n\nenum ITypesBG {\n    log,\n    action\n}\n\n/**\n *\n * @param message [string] the message to log\n * @param prefix [string] optional: a prefix to use instead of the default\n */\nfunction smartLog(message: string, prefix?: string) {\n    if (DEBUG) {\n        console.log((prefix || DEFAULT_LOG_PREFIX) + ' ' + message);\n    }\n}\n\nchrome.runtime.onInstalled.addListener(() => {\n    smartLog('Initialised successfully.');\n});\n\n/**\n *\n * onClicked handler for contentScript\n *\n * Description: Listen for the user clicking the extension's icon\n */\nchrome.action.onClicked.addListener((tab) => {\n    if (tab) {\n        chrome.scripting.executeScript({\n            target: { tabId: tab.id || -1 },\n            files: ['contentScript.js']\n        });\n    }\n});\n\n/**\n *\n * onMessage handler\n *\n * Description: for bi-directional communication from the contentScript once running\n */\nchrome.runtime.onMessage.addListener(\n    function (request, sender, sendResponse) {\n        if (sender.tab) {\n            smartLog(`Received message from tab with address: ${sender.tab.url}`, request.prefix);\n        }\n        switch (request.action) {\n            case ITypesBG.action:\n                console.log('do action!')\n                break;\n            case ITypesBG.log:\n                smartLog(request.message, request.prefix);\n                break;\n        }\n    }\n);"],"names":[],"sourceRoot":""}